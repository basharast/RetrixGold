<Page
    x:Class="RetriX.UWP.Pages.GameSystemSelectionView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:local="using:RetriX.UWP.Converters"
    xmlns:vm="using:RetriX.Shared.ViewModels"
    xmlns:data="using:RetriX.UWP.Pages"
    xmlns:controls="using:RetriX.UWP.Controls"
    xmlns:amq="using:Ailon.QuickCharts"
    xmlns:behaviors="using:Microsoft.Toolkit.Uwp.UI.Animations.Behaviors" 
    xmlns:Interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:Core="using:Microsoft.Xaml.Interactions.Core" 
    NavigationCacheMode="Enabled"
    mc:Ignorable="d">

    <Page.Resources>
        <local:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
        <local:BoolNegationConverter x:Key="BoolNegationConverter" />
        <Style x:Key="GameSystemListItemManufacturerStyle" TargetType="TextBlock">
            <Setter Property="TextWrapping" Value="NoWrap"/>
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
        </Style>
        <Style x:Key="GameSystemListItemNameStyle" TargetType="TextBlock" BasedOn="{StaticResource GameSystemListItemManufacturerStyle}">
            <Setter Property="FontSize" Value="25"/>
        </Style>

        <Style x:Key="GameSystemListItemIconFrameStyle" TargetType="Border">
            <Setter Property="Padding" Value="12"/>
            <Setter Property="Margin" Value="8"/>
        </Style>

        <Style x:Key="GameSystemRecentsListItemIconFrameStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource SystemControlForegroundAccentBrush}"/>
            <Setter Property="Padding" Value="6"/>
            <Setter Property="Margin" Value="8"/>
        </Style>


        <DataTemplate x:Key="FileImporterDT" x:DataType="vm:FileImporterViewModel">
            <StackPanel>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Image Margin="5,5,0,0" Width="72" Height="72" VerticalAlignment="Center">
                        <Image.Source>
                            <BitmapImage UriSource="{x:Bind BIOSIcon, FallbackValue=ms-appx:///Assets/Icons/Menus/general.bmp}" CreateOptions="IgnoreImageCache" />
                        </Image.Source>
                    </Image>
                    <StackPanel Orientation="Vertical" Grid.Column="1"  VerticalAlignment="Center" Margin="5,0,0,0" Tag="{x:Bind TargetSystem, Mode=OneWay}">
                        <StackPanel Orientation="Horizontal">
                            <!--
                            <TextBlock FontWeight="Bold" Margin="0,0,0,0" Visibility="Collapsed">
            <Bold><Run Text="{x:Bind TargetSystem, Mode=OneWay}" Foreground="CornflowerBlue"/> </Bold>
                            </TextBlock>
                            -->
                            <TextBlock FontWeight="Bold" Margin="0,0,0,0">
            <Run Text="{x:Bind TargetFileLable, Mode=OneWay}" Foreground="Gray"/>
            <Run Text="{x:Bind TargetFileName, Mode=OneWay}" Foreground="{x:Bind FileColor, Mode=OneWay}"/>
                            </TextBlock>

                            <TextBlock Visibility="{x:Bind DisplayDescriptions, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}" TextTrimming="CharacterEllipsis">
            <Run Text=" -" Foreground="Gray"/>
            <Run Text="{x:Bind TargetDescription, Mode=OneWay}" Foreground="Gray"/>
                            </TextBlock>
                            <!--
                            <TextBlock  FontSize="12" Margin="1,2,0,0" Visibility="{x:Bind DisplayDescriptionsOptional, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"> 
            <Run Text="{x:Bind TargetDescriptionOptional, Mode=OneWay}" Foreground="LightSteelBlue"/>
            <Run Text=")" Foreground="LightSteelBlue"/>
                            </TextBlock>
                           -->
                            <!--<TextBlock TextTrimming="CharacterEllipsis" Visibility="Collapsed">
            <Run Text="{x:Bind TargetMD5Lable, Mode=OneWay}"  Foreground="CadetBlue"/>
            <Hyperlink Foreground="RoyalBlue" NavigateUri="{x:Bind SearchLink, Mode=OneWay}">
                <Run Text="{x:Bind TargetMD5, Mode=OneWay}"/>
            </Hyperlink>
                            </TextBlock>-->
                        </StackPanel>
                        <Button Command="{x:Bind ImportCommand, Mode=OneWay}" Style="{StaticResource MaterialDesignRaisedButton}" Background="{x:Bind buttonColor, Mode=OneWay}" Height="35" Margin="0,5,0,0">
                            <TextBlock Text="{x:Bind ButtonTitle, Mode=OneWay}"/>
                        </Button>
                    </StackPanel>
                </Grid>
                <Border Grid.Row="2" Grid.RowSpan="3" Width="350" BorderThickness="0,0,0,1" Opacity="0.3" BorderBrush="Gray" Grid.ColumnSpan="2" HorizontalAlignment="Left"></Border>
            </StackPanel>
        </DataTemplate>

        <!--GridView Style-->
        <Style x:Key="GridViewItemStyle1" TargetType="GridViewItem">
            <Setter Property="FontFamily" Value="{StaticResource ContentControlThemeFontFamily}"/>
            <Setter Property="FontSize" Value="{StaticResource ControlContentThemeFontSize}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="TabNavigation" Value="Local"/>
            <Setter Property="IsHoldingEnabled" Value="True"/>
            <Setter Property="Margin" Value="2,-2,2,-12"/>
            <Setter Property="Padding" Value="0"/>
        </Style>
        <Style x:Key="ComboBoxStyle1" TargetType="ComboBox">
            <Setter Property="Padding" Value="12,5,0,7"/>
            <Setter Property="MinWidth" Value="{ThemeResource ComboBoxThemeMinWidth}"/>
            <Setter Property="Foreground" Value="{ThemeResource ComboBoxForeground}"/>
            <Setter Property="Background" Value="{ThemeResource ComboBoxBackground}"/>
            <Setter Property="BorderBrush" Value="{ThemeResource ComboBoxBorderBrush}"/>
            <Setter Property="BorderThickness" Value="{ThemeResource ComboBoxBorderThemeThickness}"/>
            <Setter Property="TabNavigation" Value="Once"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled"/>
            <Setter Property="ScrollViewer.VerticalScrollMode" Value="Auto"/>
            <Setter Property="ScrollViewer.IsVerticalRailEnabled" Value="True"/>
            <Setter Property="ScrollViewer.IsDeferredScrollingEnabled" Value="False"/>
            <Setter Property="ScrollViewer.BringIntoViewOnFocusChange" Value="True"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Top"/>
            <Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}"/>
            <Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}"/>
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <CarouselPanel/>
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid x:Name="LayoutRoot" Width="{TemplateBinding Width}" Height="{TemplateBinding Height}" RenderTransformOrigin=".5,.5">
                            <Grid.RenderTransform>
                                <ScaleTransform x:Name="GridScaleTransform" />
                            </Grid.RenderTransform>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="32"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="PointerOver">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBackgroundPointerOver}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBorderBrushPointerOver}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBackgroundPressed}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBorderBrushPressed}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBackgroundDisabled}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBorderBrushDisabled}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="HeaderContentPresenter">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundDisabled}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundDisabled}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="PlaceholderTextBlock">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundDisabled}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="DropDownGlyph">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxDropDownGlyphForegroundDisabled}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualState x:Name="Focused">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HighlightBackground"/>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="HighlightBackground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBackgroundBorderBrushFocused}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundFocused}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="PlaceholderTextBlock">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundFocused}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="DropDownGlyph">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxDropDownGlyphForegroundFocused}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="FocusedPressed">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="HighlightBackground"/>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundFocusedPressed}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="PlaceholderTextBlock">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxPlaceHolderForegroundFocusedPressed}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="DropDownGlyph">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxDropDownGlyphForegroundFocusedPressed}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Unfocused"/>
                                    <VisualState x:Name="PointerFocused"/>
                                    <VisualState x:Name="FocusedDropDown">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetProperty="Visibility" Storyboard.TargetName="PopupBorder">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Visible</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="DropDownStates">
                                    <VisualState x:Name="Opened">
                                        <Storyboard>
                                            <SplitOpenThemeAnimation ClosedTargetName="ContentPresenter" OffsetFromCenter="{Binding TemplateSettings.DropDownOffset, RelativeSource={RelativeSource Mode=TemplatedParent}}" OpenedTargetName="PopupBorder" OpenedLength="{Binding TemplateSettings.DropDownOpenedHeight, RelativeSource={RelativeSource Mode=TemplatedParent}}"/>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Closed">
                                        <Storyboard>
                                            <SplitCloseThemeAnimation ClosedTargetName="ContentPresenter" OffsetFromCenter="{Binding TemplateSettings.DropDownOffset, RelativeSource={RelativeSource Mode=TemplatedParent}}" OpenedTargetName="PopupBorder" OpenedLength="{Binding TemplateSettings.DropDownOpenedHeight, RelativeSource={RelativeSource Mode=TemplatedParent}}"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <ContentPresenter x:Name="HeaderContentPresenter" ContentTemplate="{TemplateBinding HeaderTemplate}" Content="{TemplateBinding Header}" FontWeight="{ThemeResource ComboBoxHeaderThemeFontWeight}" FlowDirection="{TemplateBinding FlowDirection}" Margin="{ThemeResource ComboBoxHeaderThemeMargin}" Visibility="Collapsed" x:DeferLoadStrategy="Lazy"/>
                            <Border x:Name="Background" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{ThemeResource AutoSuggestBoxSuggestionsListBackground}" Grid.ColumnSpan="2" Grid.Row="1"/>
                            <Border x:Name="HighlightBackground" BorderBrush="{ThemeResource ComboBoxBackgroundBorderBrushUnfocused}" BorderThickness="{TemplateBinding BorderThickness}" Background="{ThemeResource ComboBoxBackgroundUnfocused}" Grid.ColumnSpan="2" Opacity="0" Grid.Row="1"/>
                            <ContentPresenter x:Name="ContentPresenter" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" Grid.Row="1" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                                <TextBlock x:Name="PlaceholderTextBlock" Foreground="{ThemeResource ComboBoxPlaceHolderForeground}" Text="{TemplateBinding PlaceholderText}" />
                            </ContentPresenter>
                            <FontIcon x:Name="DropDownGlyph" AutomationProperties.AccessibilityView="Raw" Grid.Column="1" Foreground="{ThemeResource ComboBoxDropDownGlyphForeground}" FontSize="12" FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE0E5;" HorizontalAlignment="Right" IsHitTestVisible="False" Margin="0,10,10,10" Grid.Row="1" VerticalAlignment="Center"/>
                            <Popup x:Name="Popup">
                                <Border x:Name="PopupBorder" BorderBrush="{ThemeResource ComboBoxDropDownBorderBrush}" BorderThickness="{ThemeResource ComboBoxDropdownBorderThickness}" Background="{ThemeResource AutoSuggestBoxSuggestionsListBackground}" HorizontalAlignment="Stretch" Margin="0,-1,0,-1">
                                    <ScrollViewer x:Name="ScrollViewer" AutomationProperties.AccessibilityView="Raw" BringIntoViewOnFocusChange="{TemplateBinding ScrollViewer.BringIntoViewOnFocusChange}" Foreground="{ThemeResource ComboBoxDropDownForeground}" HorizontalScrollMode="{TemplateBinding ScrollViewer.HorizontalScrollMode}" HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}" IsHorizontalRailEnabled="{TemplateBinding ScrollViewer.IsHorizontalRailEnabled}" IsVerticalRailEnabled="{TemplateBinding ScrollViewer.IsVerticalRailEnabled}" IsDeferredScrollingEnabled="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}" MinWidth="{Binding TemplateSettings.DropDownContentMinWidth, RelativeSource={RelativeSource Mode=TemplatedParent}}" VerticalSnapPointsType="OptionalSingle" VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}" VerticalScrollMode="{TemplateBinding ScrollViewer.VerticalScrollMode}" VerticalSnapPointsAlignment="Near" ZoomMode="Disabled">
                                        <ItemsPresenter Margin="{ThemeResource ComboBoxDropdownContentMargin}"/>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <DataTemplate x:Key="ExtenstionTemplate" x:DataType="data:CoreExtensionItem">
            <Grid Margin="0,0,0,0" Padding="0" BorderThickness="1" CornerRadius="5" BorderBrush="{x:Bind extTitleColor, Mode=OneTime}">
                <TextBlock MinWidth="40" TextAlignment="Center" Text="{x:Bind extTitle, Mode=OneTime}" Padding="3,3,3,3" FontSize="12" Foreground="{x:Bind extTitleColor, Mode=OneTime}"></TextBlock>
            </Grid>
        </DataTemplate>

        <DataTemplate x:Key="FilterSearchItem" x:DataType="data:FilterItem">
            <Grid Margin="-4,3,0,0" Padding="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Border BorderThickness="2" BorderBrush="{x:Bind FilterColor, Mode=OneWay}">
                    <TextBlock Text="{x:Bind FilterType, Mode=OneTime}"  MinWidth="60" TextAlignment="Center" Padding="5,2,5,2" FontSize="12"></TextBlock>
                </Border>
                <TextBlock Text="{x:Bind FilterText, Mode=OneTime}" Padding="5,3,5,3" FontSize="12" Grid.Column="1"></TextBlock>
            </Grid>
        </DataTemplate>

        <CollectionViewSource x:Name="CoreOptionListItemsGroup" IsSourceGrouped="true" />
        <CollectionViewSource x:Name="BIOSListItemsGroup" IsSourceGrouped="true" />
        <DataTemplate x:Key="CoreOptionListItemTemplate" x:DataType="data:CoreOptionListItem">
            <StackPanel Margin="0,0,0,10">
                <TextBlock Text="{x:Bind Name, Mode=OneWay}" Margin="0,0,0,3"></TextBlock>
                <Border CornerRadius="5" BorderThickness="1" BorderBrush="#AA304ffe">
                    <ComboBox BorderThickness="0" SelectionChanged="SelectionChangedEvent" DropDownClosed="ComboBox_DropDownClosed" IsDropDownOpen="{x:Bind DroppedDown, Mode=TwoWay}"  ItemsSource="{x:Bind Values, Mode=OneWay}" SelectedValue="{x:Bind SelectedValue, Mode=TwoWay}" Tag="{x:Bind Key, Mode=OneWay}"  HorizontalAlignment="Stretch">
                    </ComboBox>
                </Border>
            </StackPanel>
        </DataTemplate>

        <DataTemplate x:Key="SystemRecentsListItemDT" x:DataType="vm:GameSystemRecentModel">
            <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="0,5,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                </Grid.RowDefinitions>
                <Border  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" CornerRadius="5" BorderThickness="2" BorderBrush="Gray" Visibility="{x:Bind thumnailsIconsState, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                    <Grid Grid.Row="1" HorizontalAlignment="Stretch" Height="72" Width="72">
                        <Image Margin="0" Stretch="{x:Bind StretchState, Mode=OneTime}" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Image.Source>
                                <BitmapImage UriSource="{x:Bind GameSnapshot, FallbackValue=ms-appx:///Assets/Icons/GN.bmp, Mode=OneWay}" CreateOptions="IgnoreImageCache" />
                            </Image.Source>
                        </Image>
                        <Grid Grid.Row="1" Margin="0,2,0,0"  BorderThickness="1" Background="{StaticResource BlurBackground1}" BorderBrush="#AA304ffe" CornerRadius="2" VerticalAlignment="Bottom" HorizontalAlignment="Stretch" Visibility="{x:Bind thumnailsIconsState, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                            <TextBlock Text="{x:Bind GameType, Mode=OneWay, FallbackValue='Game Console'}" Foreground="{x:Bind GameColor,Mode=OneWay}" Margin="0,1,0,2" VerticalAlignment="Center" TextTrimming="CharacterEllipsis" HorizontalAlignment="Center" FontWeight="Bold" FontSize="12" />
                        </Grid>
                    </Grid>
                </Border>
                <Border HorizontalAlignment="Stretch" BorderBrush="#66ffa500" Opacity="0.8" BorderThickness="1" CornerRadius="5" VerticalAlignment="Stretch" Canvas.ZIndex="100" Grid.RowSpan="5" Grid.ColumnSpan="5" Visibility="{x:Bind ProgressState, Mode=OneWay}" Background="{StaticResource InGameBlurBackground2}">
                    <ProgressRing HorizontalAlignment="Stretch" IsActive="{x:Bind ProgressActive, Mode=OneWay}" Visibility="{x:Bind ProgressState, Mode=OneWay}" Foreground="DodgerBlue" VerticalAlignment="Stretch" Width="32" Height="32"></ProgressRing>
                </Border>

                <Grid Grid.Column="2" Grid.RowSpan="3">
                </Grid>
                <StackPanel Orientation="Vertical" Grid.Column="1" HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="{x:Bind margin, Mode=OneWay}">
                    <StackPanel Orientation="Horizontal">
                        <Grid Grid.Row="1" Margin="0,0,3,0"  BorderThickness="2"  BorderBrush="#AA304ffe" CornerRadius="4" VerticalAlignment="Center" Padding="5,0,5,0" Visibility="{x:Bind thumnailsIconsState2, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                            <TextBlock Text="{x:Bind GameType, Mode=OneWay, FallbackValue='Game Console'}" Foreground="{x:Bind GameColor,Mode=OneWay}" Margin="0,1,0,2" VerticalAlignment="Center" TextTrimming="CharacterEllipsis" HorizontalAlignment="Center" FontWeight="Bold" FontSize="12" />
                        </Grid>
                        <TextBlock Text="{x:Bind GameNameWithoutExtension, FallbackValue='Game Name'}" MaxWidth="250" TextTrimming="CharacterEllipsis" TextWrapping="{x:Bind textWrapping, Mode=OneWay}"/>
                    </StackPanel>
                    <TextBlock Text="{x:Bind GameParent, FallbackValue='Game Parent'}" Foreground="Gray" TextTrimming="CharacterEllipsis" MaxWidth="240" HorizontalAlignment="Left" Visibility="{x:Bind thumnailsIconsState, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"></TextBlock>
                    <StackPanel Orientation="Horizontal">
                        <Grid Grid.Row="1" Margin="0,0,3,0" Opacity="0" BorderThickness="2"  BorderBrush="#AA304ffe" CornerRadius="4" VerticalAlignment="Center" Padding="5,0,5,0" Visibility="{x:Bind thumnailsIconsState2, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                            <TextBlock Text="{x:Bind GameType, Mode=OneWay, FallbackValue='Game Console'}" Foreground="{x:Bind GameColor,Mode=OneWay}" Margin="0,1,0,2" VerticalAlignment="Center" TextTrimming="CharacterEllipsis" HorizontalAlignment="Center" FontWeight="Bold" FontSize="12" />
                        </Grid>
                        <TextBlock Text="{x:Bind GamePlayedTime, FallbackValue='Time'}" Foreground="Gray"/>
                    </StackPanel>
                </StackPanel>
                <Border Grid.Row="2" Grid.RowSpan="3" Width="350" BorderThickness="0,0,0,1" Opacity="0.3" BorderBrush="Gray" Grid.ColumnSpan="2" HorizontalAlignment="Left"></Border>
            </Grid>
        </DataTemplate>

        <DataTemplate x:Key="BrowseGridMenuItemTemplate" x:DataType="data:CoresQuickListItem">
            <StackPanel  BorderThickness="1" BorderBrush="{x:Bind BorderColor, Mode=OneWay}" CornerRadius="3" MinHeight="120" MinWidth="120" MaxWidth="120" MaxHeight="120"  Orientation="Vertical" Margin="2,5,2,5">
                <Grid VerticalAlignment="Stretch">
                    <TextBlock Canvas.ZIndex="10" Opacity="0.6" Margin="5,0,0,0" Text="{x:Bind TagGray, Mode=OneWay,  FallbackValue='Version'}" Foreground="Gray" MaxWidth="98" TextTrimming="CharacterEllipsis" Visibility="{x:Bind TagVisibilityGray, Mode=OneWay}" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Left"  FontSize="11" />
                    <TextBlock Canvas.ZIndex="10" Opacity="0.8" Margin="5,1,0,0" Text="{x:Bind Tag, Mode=OneWay,  FallbackValue='Tag'}" Foreground="DodgerBlue" Visibility="{x:Bind TagVisibility, Mode=OneWay}" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Left"  FontSize="10" />
                   
                    <TextBlock Canvas.ZIndex="10" Opacity="0.8" Margin="10,0,5,0" Text="{x:Bind Description, Mode=OneWay,  FallbackValue='Description'}" Visibility="{x:Bind DescriptionVisibility, Mode=OneWay}" Foreground="#3049ab" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Right"  FontSize="11" />
                    <Border Style="{StaticResource GameSystemListItemIconFrameStyle}" Visibility="{x:Bind IsIcon, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Image Width="50" Height="50">
                            <Image.Source>
                                <BitmapImage UriSource="{x:Bind MenuIcon, Mode=OneTime, FallbackValue=ms-appx:///Assets/Icons/Menus/web-console.bmp}"/>
                            </Image.Source>
                        </Image>
                    </Border>
                    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Opacity="0.8" Visibility="{x:Bind ProgressState, Mode=OneWay}" Background="{StaticResource InGameBlurBackground2}">
                        <ProgressRing HorizontalAlignment="Stretch" IsActive="{x:Bind ProgressActive, Mode=OneWay}" Visibility="{x:Bind ProgressState, Mode=OneWay}" Canvas.ZIndex="100" Foreground="DodgerBlue" VerticalAlignment="Stretch" Width="32" Height="32"></ProgressRing>
                    </Grid>
                    <Grid HorizontalAlignment="Stretch" Height="120" Visibility="{x:Bind IsImage, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                        <Border CornerRadius="3" BorderThickness="1" Margin="1" HorizontalAlignment="Stretch" BorderBrush="DodgerBlue" Background="#EE000000" VerticalAlignment="Top" Canvas.ZIndex="10">
                            <TextBlock HorizontalAlignment="Center" Canvas.ZIndex="10" Opacity="0.8" Text="{x:Bind Tag, Mode=OneTime,  FallbackValue='Tag'}" Foreground="DodgerBlue" FontWeight="Bold" FontSize="10" />
                        </Border>
                        <Image Margin="0,0,0,0" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Center" Source="{x:Bind bitmapImage, Mode=OneWay}">

                        </Image>
                    </Grid>
                </Grid>

                <TextBlock Text="{x:Bind Title, Mode=OneWay, FallbackValue='Title'}" Visibility="{x:Bind IsIcon, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"  Margin="4"  VerticalAlignment="Bottom" TextTrimming="CharacterEllipsis" HorizontalAlignment="Center" FontWeight="Bold" FontSize="12"/>
            </StackPanel>
        </DataTemplate>

        <DataTemplate x:Key="RecentGridMenuItemTemplate" x:DataType="data:CoresQuickListItem">
            <StackPanel  BorderThickness="1" BorderBrush="#663949ab" CornerRadius="3" MinHeight="120" MinWidth="140" MaxWidth="150" MaxHeight="220"  Orientation="Vertical" Margin="2,5,2,5">
                <Grid>
                    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Top" Canvas.ZIndex="10" Background="{StaticResource BlurBackground1}">
                        <TextBlock Canvas.ZIndex="10" Opacity="1" Margin="5,0,0,0" Text="{x:Bind Tag, Mode=OneWay,  FallbackValue='Tag'}" Foreground="LightSeaGreen" Visibility="{x:Bind TagVisibility, Mode=OneWay}" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Left"  FontSize="11" />
                        <TextBlock Canvas.ZIndex="10" Opacity="1" Margin="10,0,5,0" Text="{x:Bind Description, Mode=OneWay,  FallbackValue='Description'}" Visibility="{x:Bind DescriptionVisibility, Mode=OneWay}" Foreground="#3049ab" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Right"  FontSize="12" />
                    </Grid>
                    <Grid Grid.Row="1" HorizontalAlignment="Stretch" Height="120">
                        <Image Stretch="{x:Bind StretchState, Mode=OneTime}" Margin="0" HorizontalAlignment="Center" MaxWidth="{x:Bind MaxSize, Mode=OneWay}" MaxHeight="{x:Bind MaxSize, Mode=OneWay}" VerticalAlignment="Center">
                            <Image.Source>
                                <BitmapImage UriSource="{x:Bind MenuIcon, Mode=OneTime, FallbackValue=ms-appx:///Assets/Icons/Menus/web-console.bmp}" CreateOptions="IgnoreImageCache"/>
                            </Image.Source>
                        </Image>
                    </Grid>
                    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Opacity="0.8" Visibility="{x:Bind ProgressState, Mode=OneWay}" Background="{StaticResource InGameBlurBackground2}">
                        <ProgressRing HorizontalAlignment="Stretch" IsActive="{x:Bind ProgressActive, Mode=OneWay}" Visibility="{x:Bind ProgressState, Mode=OneWay}" Canvas.ZIndex="100" Foreground="DodgerBlue" VerticalAlignment="Stretch" Width="32" Height="32"></ProgressRing>
                    </Grid>
                    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Canvas.ZIndex="10" Background="{StaticResource BlurBackground1}">
                        <TextBlock Text="{x:Bind Title, Mode=OneWay, FallbackValue='Title'}" Margin="4"  VerticalAlignment="Bottom" TextTrimming="CharacterEllipsis" HorizontalAlignment="Center" FontWeight="Bold" FontSize="12"/>
                    </Grid>
                </Grid>
            </StackPanel>
        </DataTemplate>

        <DataTemplate x:Key="StatisticsGridMenuItemTemplate" x:DataType="data:CoresQuickListItem">
            <StackPanel  BorderThickness="1" BorderBrush="#663949ab" CornerRadius="3" MinHeight="120" MinWidth="140" MaxWidth="150" MaxHeight="220"  Orientation="Vertical" Margin="2,5,2,5">
                <Grid>
                    <Image Margin="5,2,0,0" Width="25" Height="25" HorizontalAlignment="Left" VerticalAlignment="Top">
                        <Image.Source>
                            <BitmapImage UriSource="{x:Bind MenuIcon, Mode=OneTime, FallbackValue=ms-appx:///Assets/Icons/Menus/web-console.bmp}"/>
                        </Image.Source>
                    </Image>
                    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Opacity="0.8" Visibility="{x:Bind ProgressState, Mode=OneWay}" Background="{StaticResource InGameBlurBackground2}">
                        <ProgressRing HorizontalAlignment="Stretch" IsActive="{x:Bind ProgressActive, Mode=OneWay}" Visibility="{x:Bind ProgressState, Mode=OneWay}" Canvas.ZIndex="100" Foreground="DodgerBlue" VerticalAlignment="Stretch" Width="32" Height="32"></ProgressRing>
                    </Grid>
                    <TextBlock Canvas.ZIndex="10" Opacity="0.8" Margin="10,0,5,0" Text="{x:Bind Description, Mode=OneWay,  FallbackValue='Description'}" Visibility="{x:Bind DescriptionVisibility, Mode=OneWay}" Foreground="LightCoral" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Right"  FontSize="12" />
                    <Border Style="{StaticResource GameSystemListItemIconFrameStyle}"  HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock Canvas.ZIndex="10" Opacity="0.8" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0,10,0,0" Text="{x:Bind Tag, Mode=OneWay,  FallbackValue='Tag'}" Foreground="SeaGreen" Visibility="{x:Bind TagVisibility, Mode=OneWay}" FontWeight="Bold" FontSize="30" />
                    </Border>
                </Grid>

                <TextBlock Text="{x:Bind Title, Mode=OneWay, FallbackValue='File Name'}" Margin="4,0,4,4" Foreground="Gray" Opacity="0.8"  VerticalAlignment="Bottom" TextTrimming="CharacterEllipsis" HorizontalAlignment="Center" FontWeight="Bold" FontSize="14"/>
            </StackPanel>
        </DataTemplate>

        <Style x:Key="RootListStyle" TargetType="ListViewBase">
            <Setter Property="SelectionMode" Value="None"/>
            <Setter Property="IsItemClickEnabled" Value="True"/>
            <Setter Property="Grid.Row" Value="1"/>
        </Style>

        <Style TargetType="HyperlinkButton">
            <Setter Property="Foreground" Value="#FF73A9D8" />
            <Setter Property="Padding" Value="2,0,2,0"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="VerticalContentAlignment" Value="Top"/>
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="HyperlinkButton">
                        <Grid Background="{TemplateBinding Background}">

                            <TextBlock
                      x:Name="UnderlineTextBlock"
                      Text="{TemplateBinding Content}"
                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                      Margin="{TemplateBinding Padding}"
                      Visibility="Collapsed"/>
                            <TextBlock Canvas.ZIndex="1"
                      x:Name="DisabledOverlay"
                      Text="{TemplateBinding Content}"
                      Foreground="#FFAAAAAA"
                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                      Margin="{TemplateBinding Padding}"
                      Visibility="Collapsed"/>
                            <ContentPresenter 
                      x:Name="contentPresenter"
                      Content="{TemplateBinding Content}"
                      ContentTemplate="{TemplateBinding ContentTemplate}"
                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                      Margin="{TemplateBinding Padding}"/>
                            <Rectangle x:Name="FocusVisualElement" Stroke="#FF6DBDD1" StrokeThickness="1" Opacity="0" IsHitTestVisible="false" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Page.Resources>

    <Grid x:Name="mainGrid" KeyDown="mainGrid_KeyDown">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid x:Name="localNotificationGrid" Grid.RowSpan="2" Visibility="Collapsed"  Margin="0,5,0,0" Canvas.ZIndex="10000" MaxHeight="200" VerticalAlignment="Top" MaxWidth="500" HorizontalAlignment="Center">
            <Border x:Name="localNotificationBorder"  CornerRadius="5" Padding="10" BorderThickness="1" BorderBrush="Gold" Background="DodgerBlue" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBlock x:Name="notifcationMessageText" Grid.Column="1" Text="Notification" TextWrapping="WrapWholeWords" HorizontalAlignment="Center" VerticalAlignment="Center"></TextBlock>
                    <Viewbox MaxHeight="15" MaxWidth="15" Margin="0,0,5,0">
                        <FontIcon x:Name="NotificationIcon" FontFamily="Segoe MDL2 Assets" Glyph="&#xE74C;"
                                              Grid.Column="0"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Center" />

                    </Viewbox>
                </Grid>
            </Border>
        </Grid>
        <Grid x:Name="xBoxControlsInfo" VerticalAlignment="Bottom" Grid.Row="2" Margin="10,0,0,7" Visibility="{x:Bind isXBOX, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}" Canvas.ZIndex="100" Opacity="0.7">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <StackPanel Orientation="Horizontal">
                <Border BorderThickness="1" CornerRadius="20"  Background="Green">
                    <TextBlock Text="A" Padding="5.8,2,5.8,2" Margin="1,0,0,1.5" FontWeight="Bold" FontSize="12"></TextBlock>
                </Border>
                <TextBlock Text="Select" Margin="5,3,0,0" FontSize="12" FontWeight="Bold"></TextBlock>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Grid.Column="1" Margin="5,0,0,0">
                <Border BorderThickness="1" CornerRadius="20"  Background="DarkRed">
                    <TextBlock Text="B" Padding="5.8,2,5.8,2" Margin="1,0,0,1.5" FontWeight="Bold" FontSize="12"></TextBlock>
                </Border>
                <TextBlock Text="Back" FontSize="12" Margin="5,3,0,0" FontWeight="Bold"></TextBlock>
            </StackPanel>
        </Grid>
        <Border x:Name="MemoryValueContainer" HorizontalAlignment="Right" Grid.Row="1" Opacity="0.5" BorderThickness="0" BorderBrush="Gray" CornerRadius="5" Margin="0,14,17,5" VerticalAlignment="Top" Canvas.ZIndex="1100">
            <Grid>
                <TextBlock x:Name="MemoryValue" FontWeight="Bold" Padding="4,3,4,3">...</TextBlock>
                <Grid Canvas.ZIndex="-1" Background="{StaticResource BlurBackground2}">
                    <interactivity:Interaction.Behaviors>
                        <behaviors:Blur Value="7" Duration="0" Delay="0" AutomaticallyStart="true"/>
                    </interactivity:Interaction.Behaviors>
                </Grid>
            </Grid>
        </Border>
        <ProgressBar Grid.Row="1" Canvas.ZIndex="10000" Height="8" IsIndeterminate="True" x:Name="CoreLoadingProgress" Visibility="Visible" VerticalAlignment="Top"></ProgressBar>
        <ScrollViewer Grid.Row="1" KeyDown="mainGrid_KeyDown" Margin="0,8,0,0" IsEnabled="{x:Bind VM.CoresQuickAccessContainerState, Mode=TwoWay}" x:Name="CoresQuickAccessContainer" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <!--Here main page items will be generated by the code-->
        </ScrollViewer>

        <CommandBar Grid.Row="2" Background="Transparent" IsEnabled="{Binding ElementName=CoresQuickAccessContainer,Path=IsEnabled}">
            <AppBarButton Icon="Filter" Label="Filter" x:Name="CoresFilter" Click="CoresFilter_Click"></AppBarButton>
            <AppBarButton Icon="Refresh" Label="Refresh" x:Name="CoresRefresh" Click="CoresRefresh_Click"></AppBarButton>
            <CommandBar.SecondaryCommands>
                <AppBarButton Icon="Help" Label="Help" x:Name="RetriXHelp" Click="RetriXHelp_Click"></AppBarButton>
                <AppBarSeparator></AppBarSeparator>
                <AppBarButton Icon="Save" Label="Save Logs" x:Name="LoaderLog" Click="LoaderLog_Click"></AppBarButton>
                <AppBarSeparator></AppBarSeparator>
                <AppBarButton Icon="Globe" Label="Check Updates" x:Name="CheckUpdates" Click="CheckUpdates_Click"></AppBarButton>
                <AppBarSeparator></AppBarSeparator>
                <AppBarButton Icon="Account" Label="About" x:Name="RetriXAbout" Click="RetriXAbout_Click"></AppBarButton>
                <AppBarButton Icon="Cancel" Label="Exit" x:Name="ExitApp" Click="ExitApp_Click"></AppBarButton>
            </CommandBar.SecondaryCommands>
        </CommandBar>

        <Grid x:Name="LogsGrid" Grid.Row="1" Grid.RowSpan="2" Visibility="{x:Bind ShowErrorsList, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <ListView x:Name="LogsList" ItemsSource="{x:Bind SkippedListSource, Mode=OneWay}">
                <ListView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <ItemsStackPanel ItemsUpdatingScrollMode="KeepItemsInView" />
                    </ItemsPanelTemplate>
                </ListView.ItemsPanel>
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" TextWrapping="WrapWholeWords" Width="Auto"/>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            <Grid Grid.Row="2" HorizontalAlignment="Stretch">
                <CommandBar  Background="Transparent" VerticalAlignment="Bottom" HorizontalAlignment="Stretch"  AllowFocusOnInteraction="False">
                    <AppBarButton Label="Reset" Icon="Refresh" x:Name="ResetLogList" Click="ResetLogList_Click"/>
                    <AppBarButton Label="Home" Icon="Home" x:Name="CloseLogList" Click="CloseLogList_Click"/>
                </CommandBar>
            </Grid>
            <Grid Canvas.ZIndex="-1"  Grid.RowSpan="5" Grid.ColumnSpan="5" Background="{StaticResource BlurBackground1}">
                <interactivity:Interaction.Behaviors>
                    <behaviors:Blur Value="7" Duration="0" Delay="0" AutomaticallyStart="true"/>
                </interactivity:Interaction.Behaviors>
            </Grid>
        </Grid>

        <Grid Grid.RowSpan="2" Grid.Row="1" Grid.ColumnSpan="1" Canvas.ZIndex="500" Visibility="{x:Bind VM.SystemCoresIsLoading, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <ProgressRing  HorizontalAlignment="Center" VerticalAlignment="Center" Width="50" Height="50" IsActive="{x:Bind VM.SystemCoresIsLoading, Mode=OneWay}"/>
                <TextBlock Text="{x:Bind VM.LoadingStatus, Mode=OneWay}" HorizontalAlignment="Center" FontWeight="Bold" VerticalAlignment="Center" Margin="0,15,0,0" TextAlignment="Center"></TextBlock>
                <Button x:Name="CancelButton" Visibility="Collapsed" HorizontalAlignment="Center" Content="Cancel" Click="CancelButton_Click" Style="{StaticResource MaterialDesignRaisedButton}" Margin="0,10,0,0"></Button>
            </StackPanel>

            <Grid Canvas.ZIndex="-1"  Grid.RowSpan="5" Grid.ColumnSpan="5" Background="{StaticResource BlurBackground1}">
                <interactivity:Interaction.Behaviors>
                    <behaviors:Blur Value="7" Duration="0" Delay="0" AutomaticallyStart="true"/>
                </interactivity:Interaction.Behaviors>
            </Grid>
        </Grid>
        <Grid  x:Name="ProgressContainerMain" Visibility="Collapsed" Grid.RowSpan="2" Grid.Row="1" Grid.ColumnSpan="1" Canvas.ZIndex="500">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0">
                <ProgressRing x:Name="SystemCoresLoadingProgress" HorizontalAlignment="Center" Margin="0,0,0,0" VerticalAlignment="Center" Width="50" Height="50" IsActive="True"/>
                <TextBlock x:Name="LoadingState" HorizontalAlignment="Center" FontWeight="Bold" VerticalAlignment="Center" Margin="0,15,0,0" TextAlignment="Center"></TextBlock>
            </StackPanel>
            
            <Grid Canvas.ZIndex="-1"  Grid.RowSpan="5" Grid.ColumnSpan="5" Background="{StaticResource BlurBackground1}">
                <interactivity:Interaction.Behaviors>
                    <behaviors:Blur Value="7" Duration="0" Delay="0" AutomaticallyStart="true"/>
                </interactivity:Interaction.Behaviors>
            </Grid>
        </Grid>
        <Grid Grid.RowSpan="2" Grid.Row="1" Grid.ColumnSpan="1" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" Canvas.ZIndex="200" Visibility="{x:Bind VM.SystemsLoadFailed, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
            <TextBlock Text="Something went wrong!" HorizontalAlignment="Center" FontWeight="Bold" VerticalAlignment="Center" TextAlignment="Center"/>
            <TextBlock Text="Please restart Retrix" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" Margin="0,50,0,0"/>
        </Grid>

        <Grid x:Name="RecentsPanel" Grid.RowSpan="2" Visibility="{x:Bind VM.GamesListVisible, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}" Canvas.ZIndex="50" Grid.Row="1">
            <Grid x:Name="PreparingCoreProgress" Grid.RowSpan="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.ColumnSpan="1" Canvas.ZIndex="500">
                <ProgressRing x:Name="PreparingCoreProgressBar" HorizontalAlignment="Center" Grid.Row="1" VerticalAlignment="Center" Width="50" Height="50" IsActive="True"/>
                <TextBlock x:Name="PreparingCoreProgressState" HorizontalAlignment="Center" FontWeight="Bold" VerticalAlignment="Center" Margin="0,100,0,0" TextAlignment="Center"></TextBlock>
                <Grid Canvas.ZIndex="-1"  Grid.RowSpan="5" Grid.ColumnSpan="5" Background="{StaticResource BlurBackground1}">
                    <interactivity:Interaction.Behaviors>
                        <behaviors:Blur Value="7" Duration="0" Delay="0" AutomaticallyStart="true"/>
                    </interactivity:Interaction.Behaviors>
                </Grid>
            </Grid>
            <Pivot x:Name="CorePagePivot" SelectionChanged="CorePagePivot_SelectionChanged">
                <PivotItem x:Name="PivotCoreMain" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <PivotItem.Header>Main</PivotItem.Header>
                    <Grid x:Name="PivotCoreMainContent">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                        </Grid.RowDefinitions>
                        <FlyoutBase.AttachedFlyout>
                            <MenuFlyout x:Name="RecentsContextMenu">
                                <MenuFlyoutItem x:Name="PlayRecentGame" Foreground="Green" FontWeight="Bold" Text="Play" Click="PlayRecentGame_Click" />
                                <MenuFlyoutSeparator Visibility="{x:Bind ArcadeExtra, Mode=OneWay}"></MenuFlyoutSeparator>
                                <MenuFlyoutItem x:Name="PlayRecentGameSmartRename" Foreground="Gray" Text="Play (Smart Rename)" Click="PlayRecentGameSmartRename_Click" Visibility="{x:Bind ArcadeExtra, Mode=OneWay}"/>
                                <MenuFlyoutItem x:Name="PlayRecentGameSubSystem" Foreground="Gray" Text="Play (SubSystem)" Click="PlayRecentGameSubSystem_Click" Visibility="{x:Bind ArcadeExtra, Mode=OneWay}"/>
                                <MenuFlyoutSeparator Visibility="{x:Bind ArcadeExtra, Mode=OneWay}"></MenuFlyoutSeparator>
                                <MenuFlyoutItem Text="Play (+AI)" Click="PlayRecentGameAI_Click" Visibility="{x:Bind upscaleOptionState, Mode=OneWay}"/>
                                <MenuFlyoutItem Text="Play (+Analog)" Click="PlayRecentGameAnalog_Click" Visibility="{x:Bind PSXExtra, Mode=OneWay}"/>
                                <MenuFlyoutItem Text="Play (VFS OFF)" Click="PlayRecentGameVFSOff_Click" Visibility="{x:Bind VFSSupport, Mode=OneWay}"/>
                                <MenuFlyoutSeparator Visibility="{x:Bind SeparatorExtra, Mode=OneWay}"></MenuFlyoutSeparator>
                                <MenuFlyoutItem x:Name="DeleteRecentGame" Foreground="Red" Text="Delete" Click="DeleteRecentGame_Click" />
                                <MenuFlyoutSeparator></MenuFlyoutSeparator>
                                <MenuFlyoutItem x:Name="SetCover" Text="Set Cover" Foreground="Orange" Click="SetCover_Click"/>
                            </MenuFlyout>
                        </FlyoutBase.AttachedFlyout>
                        <ScrollViewer x:Name="CoreQuickAccessContainer" Margin="-14,0,-10,0"></ScrollViewer>
                        <CommandBar Grid.Row="1" Background="Transparent">
                            <AppBarButton Icon="Refresh" Label="Reload" x:Name="ReloadCorePage" Click="ReloadCorePage_Click"></AppBarButton>
                            <AppBarButton Icon="Home" Label="Home" Click="GoHomePage_Click"></AppBarButton>
                            <CommandBar.SecondaryCommands>
                                <AppBarButton Icon="Refresh" Label="Reset Cache" x:Name="resetCoreCache" Click="resetCoreCache_Click"></AppBarButton>
                                <AppBarToggleButton Icon="MapDrive" Label="VFS Support" IsChecked="{x:Bind VFSSupport, Mode=TwoWay}"></AppBarToggleButton>
                                <AppBarToggleButton Icon="Attach" Label="Zip Support" IsChecked="{x:Bind ZipSupport, Mode=TwoWay}"></AppBarToggleButton>
                                <AppBarSeparator></AppBarSeparator>
                                <AppBarToggleButton Icon="ClosedCaption" Label="Log File" x:Name="logToFile" Click="logToFile_Click"></AppBarToggleButton>
                                <AppBarButton IsEnabled="{Binding ElementName=logToFile,Path=IsChecked}" Icon="Download" Label="Save Logs" x:Name="downloadLogs" Click="downloadLogs_Click"></AppBarButton>
                                <AppBarButton IsEnabled="{Binding ElementName=logToFile,Path=IsChecked}" Icon="Delete" Label="Reset Logs" x:Name="resetLogFile" Click="resetLogFile_Click"></AppBarButton>
                                <AppBarSeparator></AppBarSeparator>
                                <AppBarToggleButton IsEnabled="{Binding ElementName=logToFile,Path=IsChecked}" x:Name="VFSLog" Label="VFS Logs" Icon="Document" Click="VFSLog_Click"></AppBarToggleButton>
                                <AppBarToggleButton IsChecked="{x:Bind EnabledDebugLogsList, Mode=OneWay}" Label="Debug Log" Icon="SwitchApps" x:Name="DebugLogList" Click="DebugLogList_Click"/>
                            </CommandBar.SecondaryCommands>
                        </CommandBar>
                    </Grid>
                </PivotItem>
                <PivotItem x:Name="PivotCoreGames">
                    <PivotItem.Header>Games</PivotItem.Header>
                    <Grid x:Name="PivotCoreGamesContent">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Border Margin="5,8.2,5,5"  BorderThickness="1.5" BorderBrush="#AA304ffe" CornerRadius="5"  Visibility="{x:Bind VM.SearchBoxVisible, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                            <Grid>
                                <ProgressBar x:Name="FilterLoader" IsIndeterminate="True" Visibility="{x:Bind VM.filterInProgress,Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}" VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="0, 2, 0, 0" Canvas.ZIndex="50"/>
                                <TextBox x:Name="GamesListFilter" Padding="5,5,0,0" Text="{x:Bind VM.SearchText, Mode=OneWay}" TextWrapping="Wrap" BorderThickness="0" BorderBrush="Transparent" TextChanged="GamesListFilter_TextChanged"  PlaceholderText="Search in games..">
                                </TextBox>
                            </Grid>
                        </Border>

                        <Border x:Name="SearchExtraFilterContainer" CornerRadius="5" BorderThickness="2" BorderBrush="Gray" Opacity="0.8" HorizontalAlignment="Stretch" Margin="5,3,5,0" Grid.Row="1" Visibility="Collapsed">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <ComboBox x:Name="SearchExtraFilter" HorizontalAlignment="Stretch" SelectionChanged="SearchExtraFilter_SelectionChanged" ItemTemplate="{StaticResource FilterSearchItem}" BorderThickness="0"></ComboBox>
                                <Button x:Name="ReloadGames" Click="AllGetterReload_Click" Grid.Column="1" HorizontalAlignment="Right" Margin="0,2,1,0" Style="{StaticResource MaterialDesignRaisedButton}">
                                    <Viewbox MaxHeight="15" MaxWidth="15" Margin="0,0,0,0">
                                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE149;"
                                              Grid.Column="0"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Center" />

                                    </Viewbox>
                                </Button>
                                <Button x:Name="FolderGames" Click="SetGamesFolder_Click" Grid.Column="2" HorizontalAlignment="Right" Margin="0,2,1,0" Style="{StaticResource MaterialDesignRaisedButton}">
                                    <Viewbox MaxHeight="15" MaxWidth="15" Margin="0,0,0,0">
                                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE188;"
                                              Grid.Column="0"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Center" />

                                    </Viewbox>
                                </Button>
                            </Grid>
                        </Border>
                        
                        <TextBlock Margin="10,5,5,5" Text="Cached results, refresh to get new items" HorizontalAlignment="Stretch" TextAlignment="Left" Opacity="0.7" Grid.Row="2" Foreground="OrangeRed" Visibility="{x:Bind VM.SearchBoxVisible, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"></TextBlock>

                        <Grid Grid.Row="2" x:Name="GamesQuickAccessContainer" Margin="0,32,0,0" Visibility="{x:Bind VM.SearchBoxVisible, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            <FlyoutBase.AttachedFlyout>
                                <MenuFlyout x:Name="GameContextMenu">
                                    <MenuFlyoutItem x:Name="OpenDirectFile" Foreground="Green" FontWeight="Bold" Text="Open" Click="OpenDirectFile_Click" Visibility="{x:Bind ShowFilesMenu, Mode=OneWay}"/>
                                    <MenuFlyoutItem Text="Save" x:Name="SaveDirectFile" Foreground="Gray" Click="SaveDirectFile_Click" Visibility="{x:Bind ShowFilesMenu, Mode=OneWay}"/>
                                    <MenuFlyoutSeparator Visibility="{x:Bind ShowFilesMenu, Mode=OneWay}"></MenuFlyoutSeparator>
                                    <MenuFlyoutItem x:Name="PlayGame" Foreground="Green" FontWeight="Bold" Text="Play" Click="PlayGame_Click" Visibility="{x:Bind ShowGameMenuOptions, Mode=OneWay}"/>
                                    <MenuFlyoutSeparator Visibility="{x:Bind ArcadeExtra, Mode=OneWay}"></MenuFlyoutSeparator>
                                    <MenuFlyoutItem Text="Play (Smart Rename)" Foreground="Gray" Click="PlayRecentGameSmartRename_Click" Visibility="{x:Bind ArcadeExtra, Mode=OneWay}"/>
                                    <MenuFlyoutItem Text="Play (SubSystem)" Foreground="Gray" Click="PlayRecentGameSubSystem_Click" Visibility="{x:Bind ArcadeExtra, Mode=OneWay}"/>
                                    <MenuFlyoutSeparator Visibility="{x:Bind ArcadeExtra, Mode=OneWay}"></MenuFlyoutSeparator>
                                    <MenuFlyoutItem Text="Play (+AI)" Click="PlayRecentGameAI_Click" Visibility="{x:Bind upscaleOptionState, Mode=OneWay}"/>
                                    <MenuFlyoutItem Text="Play (+Analog)" Click="PlayRecentGameAnalog_Click" Visibility="{x:Bind PSXExtra, Mode=OneWay}"/>
                                    <MenuFlyoutItem Text="Play (VFS OFF)" Click="PlayRecentGameVFSOff_Click" Visibility="{x:Bind VFSSupport, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"/>
                                    <MenuFlyoutSeparator Visibility="{x:Bind SeparatorExtra, Mode=OneWay}"></MenuFlyoutSeparator>
                                    <MenuFlyoutItem x:Name="GameSize" Text="Get Info" Foreground="DodgerBlue" Click="GameSize_Click" />
                                    <MenuFlyoutItem x:Name="DeleteFile" Text="Delete" Foreground="Red" Click="DeleteFile_Click" />
                                    <MenuFlyoutSeparator Visibility="{x:Bind ShowGameMenuOptions, Mode=OneWay}"></MenuFlyoutSeparator>
                                    <MenuFlyoutItem x:Name="SetCover2" Foreground="Orange" Visibility="{x:Bind ShowGameMenuOptions, Mode=OneWay}" Text="Set Cover" Click="SetCover2_Click"/>
                                </MenuFlyout>
                            </FlyoutBase.AttachedFlyout>
                            <!--<ListView Visibility="Collapsed" Loaded="SystemRecentsList_Loaded" Tapped="SystemRecentsList_Tapped" ItemClick="SystemRecentsList_ItemClick" IsItemClickEnabled="True" ItemsSource="{x:Bind VM.GamesMainList, Mode=OneWay}" ItemTemplate="{StaticResource SystemRecentsListItemDT}" Style="{StaticResource RootListStyle}">
                            </ListView>-->
                            <GridView x:Name="SystemRecentsList" Margin="10,0,0,0" Tapped="SystemRecentsList_Tapped" ItemClick="SystemRecentsList_ItemClick" IsItemClickEnabled="True" ItemsSource="{x:Bind VM.GamesMainList, Mode=OneWay}" ItemTemplate="{StaticResource SystemRecentsListItemDT}" Style="{StaticResource RootListStyle}"></GridView>
                        </Grid>

                        <Grid x:Name="NoGamesTextGrid" Grid.Row="2"  HorizontalAlignment="Center" VerticalAlignment="Center"  Visibility="{x:Bind VM.NoGamesListVisible, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"></ColumnDefinition>
                                <ColumnDefinition Width="*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <TextBlock x:Name="NoGamesText1" Text="NO GAMES!"  Grid.Row="1" HorizontalAlignment="Center" FontWeight="Bold"></TextBlock>
                            <TextBlock x:Name="NoGamesText2" Text="Choose folder for this system" Grid.Row="2" HorizontalAlignment="Center" ></TextBlock>
                            <TextBlock  Text="Don't select root for all systems" Foreground="OrangeRed" Grid.Row="3" HorizontalAlignment="Center" ></TextBlock>
                            <Button Width="Auto" Height="Auto" Click="SetGamesFolder_Click" HorizontalAlignment="Center">
                                <Button.Template>
                                    <ControlTemplate>
                                        <Grid>
                                            <Image Width="72" Height="72" IsTapEnabled="True">
                                                <Image.Source>
                                                    <BitmapImage UriSource="ms-appx:///Assets/Icons/Menus/folder-games.bmp"/>
                                                </Image.Source>
                                            </Image>
                                        </Grid>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>

                        </Grid>

                        <Grid x:Name="NoResultsTextGrid" Grid.Row="2"  HorizontalAlignment="Center" VerticalAlignment="Center"  Visibility="{x:Bind VM.NoResultsListVisible, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TextBlock Text="No Results!" HorizontalAlignment="Center" FontSize="17" FontWeight="Bold"></TextBlock>
                            <TextBlock Text="Unable to find the game you want" Grid.Row="1" HorizontalAlignment="Center" FontSize="17"></TextBlock>
                        </Grid>

                        <Grid  Grid.Row="3" Margin="0,5,0,5" Width="{x:Bind InitWidthSizeCustom, Mode=OneWay}" MaxWidth="600">
                            <!--<TextBlock Text="{x:Bind VM.StatusBar, Mode=OneWay}" Margin="20,0,0,0" HorizontalAlignment="{x:Bind horizontalAlignment,Mode=OneWay}"></TextBlock>-->
                        </Grid>

                        <Grid Grid.Row="4">
                            <CommandBar VerticalAlignment="Bottom"  HorizontalAlignment="Stretch" Background="Transparent">

                                <AppBarButton x:Name="ReloadGamesList" Label="Reload" Icon="Refresh" Click="AllGetterReload_Click" Visibility="{x:Bind VM.ReloadGamesVisible, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"/>
                                <AppBarButton x:Name="SetGamesFolder" Label="Folder" Icon="Folder" Click="SetGamesFolder_Click"/>
                                <AppBarButton Icon="Home" Label="Home" x:Name="GoHomePage" Click="GoHomePage_Click"></AppBarButton>

                                <CommandBar.SecondaryCommands>
                                    <AppBarButton x:Name="SingleGame" Label="Single Game" Icon="OpenFile" Click="GamesPick_Click"/>
                                </CommandBar.SecondaryCommands>
                            </CommandBar>
                        </Grid>
                    </Grid>
                </PivotItem>
                <PivotItem x:Name="PivotCoreOptions">
                    <PivotItem.Header>Options</PivotItem.Header>
                    <Grid x:Name="CoreOptionsContainer" HorizontalAlignment="Stretch">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                        </Grid.RowDefinitions>

                        <ListView x:Name="CoreOptionsPage" Margin="0,10,0,35" HorizontalContentAlignment="Stretch" IsItemClickEnabled="True" ItemClick="CoreOptionsPage_ItemClick" SelectionMode="None" ItemsSource="{Binding Source={StaticResource CoreOptionListItemsGroup}}" ItemTemplate="{StaticResource CoreOptionListItemTemplate}">
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="HorizontalContentAlignment"  Value="Stretch"></Setter>
                                </Style>
                            </ListView.ItemContainerStyle>
                            <ListView.GroupStyle>
                                <GroupStyle>
                                    <GroupStyle.HeaderTemplate>
                                        <DataTemplate>
                                            <Grid HorizontalAlignment="Stretch" Margin="0,0,32,0">
                                                <TextBlock Text="{Binding Key}" Foreground="DodgerBlue" HorizontalAlignment="Stretch" Opacity="0.7" TextTrimming="CharacterEllipsis" FontWeight="Bold" FontSize="14" />
                                            </Grid>
                                        </DataTemplate>
                                    </GroupStyle.HeaderTemplate>
                                </GroupStyle>
                            </ListView.GroupStyle>
                        </ListView>
                        <Grid x:Name="NoOptionsTextGrid" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TextBlock x:Name="NoOptionsText1" Text="NO OPTIONS?" Grid.Row="1" HorizontalAlignment="Center" FontWeight="Bold"></TextBlock>
                            <TextBlock x:Name="NoOptionsText2" Text="Sometimes options will appear in-game" Grid.Row="2" HorizontalAlignment="Center"></TextBlock>
                            <Image Width="72" Height="72">
                                <Image.Source>
                                    <BitmapImage UriSource="ms-appx:///Assets/Icons/Menus/web-console.bmp"/>
                                </Image.Source>
                            </Image>
                        </Grid>

                        <Grid x:Name="OptionsCommandBar" Grid.ColumnSpan="2" Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            <CommandBar VerticalAlignment="Bottom" HorizontalAlignment="Stretch" Background="Transparent">
                                <AppBarButton x:Name="OptionsReset" Label="Reset" Icon="Refresh" Click="OptionsReset_Click"/>
                                <AppBarButton x:Name="OptionsSave" Label="Save" Icon="Save" Click="OptionsSave_Click_1"/>
                                <AppBarButton Icon="Home" Label="Home" Click="GoHomePage_Click"></AppBarButton>

                            </CommandBar>
                        </Grid>
                    </Grid>
                </PivotItem>
                <PivotItem x:Name="PivotCoreBIOS" Header="{x:Bind VM.BIOSHeaderTitle, Mode=OneWay}">
                    <Grid x:Name="PivotCoreBIOSContent">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid  Margin="4,10,10,0" HorizontalAlignment="Stretch" Visibility="{x:Bind VM.BIOSGuidTextGridVisible, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}">
                            <HyperlinkButton HorizontalAlignment="Stretch"  x:Name="locateAllBiosFiles" Margin="3,0,0,0" Foreground="Green" FontWeight="Bold" VerticalAlignment="Top" Content="Try Auto finder (Click here)" Click="locateAllBiosFiles_Click"></HyperlinkButton>
                        </Grid>

                        <Grid x:Name="NoBIOSTextGrid" Grid.Row="1" Visibility="{x:Bind VM.NoBIOSTextGridVisible, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TextBlock Text="NO BIOS" HorizontalAlignment="Center" Grid.Row="1" FontWeight="Bold"></TextBlock>
                            <TextBlock Text="No pre-configuration found" Grid.Row="2" HorizontalAlignment="Center"></TextBlock>
                            <TextBlock Text="or this core doesn't requires BIOS" Grid.Row="3" HorizontalAlignment="Center"></TextBlock>
                            <Image Width="72" Height="72">
                                <Image.Source>
                                    <BitmapImage UriSource="ms-appx:///Assets/Icons/Menus/rems.bmp"/>
                                </Image.Source>
                            </Image>
                        </Grid>
                        <Grid  Grid.Row="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                            <ListView x:Name="BIOSFilesList" ItemsSource="{Binding Source={StaticResource BIOSListItemsGroup}}" ItemTemplate="{StaticResource FileImporterDT}" SelectionMode="None" IsItemClickEnabled="True" ItemClick="BIOSFilesList_ItemClick">
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="HorizontalContentAlignment"  Value="Stretch"></Setter>
                                    </Style>
                                </ListView.ItemContainerStyle>
                                <ListView.GroupStyle>
                                    <GroupStyle>
                                        <GroupStyle.HeaderTemplate>
                                            <DataTemplate>
                                                <Grid HorizontalAlignment="Stretch" Margin="0,0,0,0">
                                                    <TextBlock Text="{Binding Key}" Foreground="DodgerBlue" HorizontalAlignment="Stretch" Opacity="0.7" TextTrimming="CharacterEllipsis" FontWeight="Bold" FontSize="14" />
                                                </Grid>
                                            </DataTemplate>
                                        </GroupStyle.HeaderTemplate>
                                    </GroupStyle>
                                </ListView.GroupStyle>
                            </ListView>
                        </Grid>
                        <CommandBar Grid.Row="2" Background="Transparent">
                            <AppBarButton Icon="Delete" Label="Reset" x:Name="ResetBIOS" Click="ResetBIOS_Click"></AppBarButton>
                            <AppBarButton Icon="Home" Label="Home" Click="GoHomePage_Click"></AppBarButton>
                            <CommandBar.SecondaryCommands>
                                <AppBarButton Icon="Delete" Label="Remove B.Map" Visibility="{x:Bind VM.ShowBIOSMapOptions, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}" x:Name="DeleteBIOSMap" Click="DeleteBIOSMap_Click"></AppBarButton>
                                <AppBarSeparator Visibility="{x:Bind VM.ShowBIOSMapOptions, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"></AppBarSeparator>
                                <AppBarButton Icon="Folder" Label="Saves Folder" x:Name="OpenSavesFolder" Click="OpenSavesFolder_Click"></AppBarButton>
                                <AppBarButton Icon="Folder" Label="System Folder" x:Name="OpenSystemFolder" Click="OpenSystemFolder_Click"></AppBarButton>
                                <AppBarSeparator></AppBarSeparator>
                                <AppBarButton Icon="OpenFile" Label="Import Files" x:Name="ImportCoreFiles" Click="ImportCoreFiles_Click"></AppBarButton>
                                <AppBarButton Icon="Folder" Label="Import Folder" x:Name="ImportCoreFolder" Click="ImportCoreFolder_Click"></AppBarButton>

                            </CommandBar.SecondaryCommands>
                        </CommandBar>
                    </Grid>
                </PivotItem>

                <PivotItem x:Name="PivotCoreInsights" Header="Insights">
                    <Grid x:Name="PivotCoreInsightsContent">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid x:Name="CoreDaysData" Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                         <amq:SerialChart 
                         x:Name="ChartsViewer"
                         DataSource="{x:Bind daysData, Mode=OneWay}" 
                         CategoryValueMemberPath="day" 
                         Background="{StaticResource BlurBackground2}"
                         BorderBrush="Gray"
                         BorderThickness="1"
                         PlotAreaBackground="{x:Null}"
                         AxisForeground="{ThemeResource DefaultTextForegroundThemeBrush}"
                         GridStroke="#55CCCCCC"
                         ValueFormatString="0.00">
                                
                                <amq:SerialChart.Graphs>
                                    <amq:ColumnGraph ValueMemberPath="usage" Title="HOURS" ColumnWidthAllocation="0.1" Brush="DodgerBlue" Opacity="0.8"/>
                                    <amq:LineGraph ValueMemberPath="main" Title="PER" Brush="Gray" Opacity="0.5"/>
                                    <amq:AreaGraph ValueMemberPath="main" Title="DAY" Brush="Gray" Opacity="0.15"/>
                                    <amq:ColumnGraph ValueMemberPath="target" x:Name="SelectedDay" Title="TARGET" ColumnWidthAllocation="0.1" Brush="OrangeRed" Opacity="0.5"/>
                                </amq:SerialChart.Graphs>
                            </amq:SerialChart>
                        </Grid>

                        <Grid x:Name="NoInsightsTextGrid" Grid.RowSpan="2" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TextBlock x:Name="NoInsightsText1" Text="NO INSIGHTS?" Grid.Row="1" HorizontalAlignment="Center" FontWeight="Bold"></TextBlock>
                            <TextBlock x:Name="NoInsightsText2" Text="Play some games or adjust the date" Grid.Row="2" HorizontalAlignment="Center"></TextBlock>
                            <Image Width="72" Height="72">
                                <Image.Source>
                                    <BitmapImage UriSource="ms-appx:///Assets/Icons/Menus/xbox.bmp"/>
                                </Image.Source>
                            </Image>
                        </Grid>
                        <TextBlock Text="Date range" Grid.Row="2" Foreground="Gray" x:Name="InsightsRange" HorizontalAlignment="Left" Margin="0,3,0,0" Canvas.ZIndex="222"></TextBlock>

                        <CommandBar Grid.Row="2" Background="Transparent">
                          <AppBarButton x:Name="AdjustInsightsDate" Icon="Calendar" Label="Date" Click="AdjustInsightsDate_Click"></AppBarButton>
                          <AppBarButton Icon="Home" Label="Home" Click="GoHomePage_Click"></AppBarButton>
                        </CommandBar>
                    </Grid>
                </PivotItem>
                
            </Pivot>

            <Grid Canvas.ZIndex="-1"  Grid.RowSpan="5" Grid.ColumnSpan="5" Background="{StaticResource BlurBackground2}">
                <interactivity:Interaction.Behaviors>
                    <behaviors:Blur Value="7" Duration="0" Delay="0" AutomaticallyStart="true"/>
                </interactivity:Interaction.Behaviors>
            </Grid>
        </Grid>

    </Grid>
</Page>
